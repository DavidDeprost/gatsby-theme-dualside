// Sass is used for global color variables to easily darken/lighten them.
// Afterwards, they are assigned to CSS custom properties, which sass cannot modify.
$bg: hsla(60, 100, 88.6, 0.9);
$color: hsla(330, 100, 39.2, 0.8);
$headerColor: rgb(82, 38, 228);

$left: (
  'bg': hsl(24, 100, 50),
);
$right: (
  'bg': hsl(300, 76.2, 52.2),
);

:root {
  --headerHeight: 4rem;
  --sidestripWidth: 0.5rem;
  // sidebar widths in portrait and landscape orientations:
  --portraitWidth: 80vw;
  --landscapeWidth: 30vw;
  --borderWidth: 2px;
  --transitionDuration: 0.5s;
  --shadow: 6px 0 15px 0;
}

body {
  /* border: 3px solid red; */
  min-height: 100vh;
  max-width: 100vw;
  margin: 0;
  background: $bg;
  color: $color;
  /* Disable scrolling on body: */
  overflow: hidden;
  font-family: "Open Sans", sans-serif;
}

#layout {
  display: grid;
  grid-template-columns: auto 1fr auto;
  grid-template-areas: 'left main right';
}

#main {
  grid-area: main;
}

.sidebar {
  &.left {
    grid-area: left;
    border-right: var(--borderWidth) solid lighten($headerColor, 15%);
    box-shadow: var(--shadow) #888;
    background: map-get($left, 'bg');
  }
  &.right {
    grid-area: right;
    border-left: var(--borderWidth) solid lighten($headerColor, 15%);
    box-shadow: -var(--shadow) #888;
    background: map-get($right, 'bg');
  }

  height: 100%;
  width: var(--sidestripWidth);
  transition: width var(--transitionDuration);
  &.active {
    width: var(--landscapeWidth);
  }
}

.header {
  &.main {
    background: linear-gradient(to right, orange, violet);
  }
  &.left {
    float: right;
    width: calc(100% - var(--headerHeight));
  }
  &.right {
    float: left;
    width: calc(100% - var(--headerHeight));
  }

  position: sticky;
  height: var(--headerHeight);
  color: #{$headerColor};
  border-bottom: var(--borderWidth) solid #{lighten($headerColor, 15%)};
  > h1 {
    height: 100%;
    margin: 0;
    line-height: calc(var(--headerHeight) - var(--borderWidth)); /* Vertical center */
    text-align: center; /* Horizontal center */
    overflow: hidden;
  }
}

.content {
  &.main {
    padding: 2rem 10% 3rem;
    &::-webkit-scrollbar-thumb {
      --bg: #{$bg};
    }
  }
  &.left {
    &::-webkit-scrollbar-thumb {
      --bg: #{lighten(map-get($left, 'bg'), 20%)};
    }
  }
  &.right {
    direction: rtl;
    > div {
      direction: ltr;
    }
    &::-webkit-scrollbar-thumb {
      --bg: #{lighten(map-get($right, 'bg'), 20%)};
    }
  }

  /* Without border-box, the left/right padding is added
  to the 100% width, resulting in overflowing content! */
  box-sizing: border-box;
  height: calc(100vh - var(--headerHeight));
  padding: 5%;
  overflow-y: auto;
  overflow-x: hidden;
  clear: both;
  /* Scrollbar styling: */
  &::-webkit-scrollbar {
    width: 0.6rem;
    background: transparent;
  }
  &::-webkit-scrollbar-thumb {
    background: var(--bg);
    border-radius: 0.6rem;
  } /* End scrollbar styling */
}
